spec:
  additionalContents: false
  contents:
    - description: Test case in event format
      type: file
      pattern: '^test-[a-z0-9-]+\.json$'
      contentMediaType: "application/json"
      required: false
      $ref: "./event.spec.yml"
    - description: Test case in raw format
      type: file
      pattern: '^test-[a-z0-9-]+\.log$'
      required: false
    - description: Configuration of test case in raw format
      type: file
      pattern: '^test-[a-z0-9-]+\.log-config.json$'
      contentMediaType: "application/json"
      required: false
      content:
        type: object
        additionalProperties: false
        properties:
          skip:
            description: If this test should be skipped, more information about why it was skipped.
            type: object
            additionalProperties: false
            properties:
              reason:
                description: Short explanation for why test has been skipped.
                type: string
                example: Flaky test
              link:
                description: Link to issue with more details about skipped test or to track re-enabling skipped test.
                type: string
                format: uri
                example: https://github.com/elastic/integrations/issues/520
            required: [ "reason", "link" ]
          fields:
            description: Field definitions
            type: object
            additionalProperties: true
          dynamic_fields:
            description: Dynamic fields with regular expressions defining their variable values.
            type: object
          multiline:
            description: Multi-line configuration
            type: object
            additionalProperties: true
          numeric_keyword_fields:
            description: List of keyword type fields allowed to have a numeric value.
            type: array
    - description: Configuration of test case in JSON format
      type: file
      pattern: '^test-[a-z0-9-]+\.json-config.json$'
      contentMediaType: "application/json"
      required: false
      content:
        type: object
        additionalProperties: false
        properties:
          fields:
            description: Field definitions
            type: object
            additionalProperties: true
          dynamic_fields:
            description: Dynamic fields with regular expressions defining their variable values.
            type: object
          numeric_keyword_fields:
            description: List of keyword type fields allowed to have a numeric value.
            type: array
    - description: Expected test results
      type: file
      pattern: '^test-[a-z0-9-]+\.(json|log)-expected.json$'
      contentMediaType: "application/json"
      required: false
      $ref: "./expected.spec.yml"